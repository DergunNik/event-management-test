## Добавить событие

**Акторы:** Авторизованный пользователь с ролью Admin
**Предусловие:** Пользователь авторизован с ролью Admin
**Триггер:** Поступил запрос на добавление события через API
**Результат:** Событие добавлено в хранилище
**Описание:**

- Пользователь отправляет запрос на добавление события с заполненным EventCreateDto.
- Система проверяет существование категории с указанным CategoryId.
- Система сохраняет событие в хранилище.

**Расширения:**

- Если категория не найдена, система возвращает ошибку и событие не создаётся.

---

## Получить событие по идентификатору

**Акторы:** Авторизованный пользователь  
**Предусловие:** Пользователь авторизован  
**Триггер:** Поступил запрос на получение события по идентификатору через API  
**Результат:** Пользователь получает данные события
**Описание:**

- Пользователь отправляет запрос с идентификатором события.
- Система ищет событие по идентификатору в хранилище.
- Система возвращает данные события.

**Расширения:**

- Если событие не найдено, система возвращает null.

---

## Получить список всех событий

**Акторы:** Авторизованный пользователь  
**Предусловие:** Пользователь авторизован  
**Триггер:** Поступил запрос на получение списка событий через API  
**Результат:** Пользователь получает список событий  
**Описание:**

- Пользователь отправляет запрос на получение всех событий.
- Система получает список всех событий в хранилище.
- Система возвращает список событий.

---

## Получить список событий по фильтру

**Акторы:** Авторизованный пользователь  
**Предусловие:** Пользователь авторизован. Фильтр создан и проверен
**Триггер:** Поступил запрос на получение событий по фильтру через API  
**Результат:** Пользователь получает отфильтрованный список событий  
**Описание:**

- Пользователь отправляет запрос с параметрами фильтрации.
- Система получает список всех событий в хранилище с фильтром.
- Система возвращает список событий.

---

## Получить страницу событий (пагинация и сортировка)

**Акторы:** Авторизованный пользователь  
**Предусловие:** Пользователь авторизован. Параметры пагинации проверены
**Триггер:** Поступил запрос на получение страницы событий через API  
**Результат:** Пользователь получает страницу событий с учётом пагинации и сортировки  
**Описание:**

- Пользователь отправляет запрос с параметрами пагинации и сортировки.
- Система составляет запрос на сортировку событий в зависимости от параметров пагинации.
- Система получает список всех событий в хранилище с пагинацией.
- Система возвращает страницу событий.

---

## Обновить событие

**Акторы:** Авторизованный пользователь с ролью Admin  
**Предусловие:** Пользователь авторизован с ролью Admin  
**Триггер:** Поступил запрос на обновление события через API  
**Результат:** Событие обновлено  
**Описание:**

- Пользователь отправляет запрос на обновление события с EventUpdateDto.
- Система проверяет существование события и категории.
- Если обе сущности найдены — система обновляет событие.
- Система сохраняет изменения.

**Расширения:**

- Если событие или категория не найдены, система возвращает ошибку.

---

## Удалить событие

**Акторы:** Авторизованный пользователь с ролью Admin  
**Предусловие:** Пользователь авторизован с ролью Admin
**Триггер:** Поступил запрос на удаление события через API  
**Результат:** Событие удалено  
**Описание:**

- Пользователь отправляет запрос на удаление события по идентификатору.
- Система ищет событие.
- Система удаляет событие в хранилище.
- Система сохраняет изменения.

**Расширения:**

- Если событие не найдено, система возвращает ошибку.

---

## Загрузить изображение события

**Акторы:** Авторизованный пользователь с ролью Admin
**Предусловие:** Пользователь авторизован с ролью Admin
**Триггер:** Поступил запрос на загрузку изображения через API  
**Результат:** Изображение сохранено, путь у события обновлён
**Описание:**

- Пользователь отправляет запрос с файлом изображения и идентификатором события.
- Система ищет событие.
- Система сохраняет изображение локально и обновляет путь в хранилище.
- Система сохраняет изменения.

**Расширения:**

- Если событие не найдено — система возвращает ошибку.
- Если файл изображения невалиден — система возвращает ошибку.

---

## Получить путь к изображению события

**Акторы:** Авторизованный пользователь  
**Предусловие:** Пользователь авторизован
**Триггер:** Поступил запрос на получение пути к изображению через API  
**Результат:** Пользователь получает путь к изображению события  
**Описание:**

- Пользователь отправляет запрос с идентификатором события.
- Система ищет событие.
- Система возвращает путь к изображению.

**Расширения:**

- Если событие не найдено, система возвращает ошибку.
- Если изображения нет, система возвращает null.